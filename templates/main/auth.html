{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Авторизация</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body>
<div class="container">
    <h2 id="form-title">Вход</h2>

    <form id="login-form" method="post">
        {% csrf_token %}
        {{ login_form.as_p }}
        <button type="submit" name="login">Войти</button>
    </form>

    <form id="register-form" method="post" class="hidden">
        {% csrf_token %}
        {{ register_form.as_p }}
        <button type="submit" name="register">Зарегистрироваться</button>
    </form>

    <div class="switch">
        <a href="#" id="toggle-link">Нет аккаунта? Создайте</a>
    </div>

    {% for message in messages %}
      <p style="color:red;">{{ message }}</p>
    {% endfor %}
</div>

<script>
const toggleLink = document.getElementById('toggle-link');
const loginForm = document.getElementById('login-form');
const registerForm = document.getElementById('register-form');
const formTitle = document.getElementById('form-title');

toggleLink.addEventListener('click', () => {
    const isLoginVisible = !loginForm.classList.contains('hidden');
    loginForm.classList.toggle('hidden');
    registerForm.classList.toggle('hidden');
    formTitle.textContent = isLoginVisible ? 'Регистрация' : 'Вход';
    toggleLink.textContent = isLoginVisible ? 'Уже есть аккаунт? Войдите' : 'Нет аккаунта? Создайте';
});
</script>
</body>
</html>
